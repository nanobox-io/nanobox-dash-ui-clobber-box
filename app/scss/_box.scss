.box               { width:600px; margin-bottom:20px; min-height:60px;
  .white-box       { padding:0 10px; height:60px; background:white; display:flex; align-items: center;}
  .stats           { margin:0 10px 0 auto; }
  .name            { color:$slate-blue; }
  .id              {
    *              { color:$slate-blue; }
    .service-name  { text-transform: uppercase; }
  }
  .service-icon    { width:31px; margin:2px 3px 0 0;
    &.ruby .bg     { fill:none; }
    &.mongo-db .bg { fill:none; }
  }


  .animation       { display:none; height: 60px;
    &.component    { margin-left:-30px; margin-top:-10px; }
  }

  &.animating       { margin-top: -3px;
    .white-box      { display:none;  }
    .nav-holder     { opacity:0; pointer-events: none; }
    .animation      { display:block; }
    &.component-box {
      .service-bug  { opacity:0.7; }
    }
  }

  // Transitioning main content
  .main-content    { @include transition(opacity, 250ms);

  }


  // HOST BOX
  &.host-box       {
    .name          { font-size:30px; margin-right:10px;}
    .service-icons { display:flex; }
  }

  // CLUSTER BOX
  &.cluster-box    {
    .component     { position: relative; margin-left:20px;
      .icon        { width:31px; }
      .total       { position: absolute; right:-8px; bottom:0; background:$link-blue; width:20px; height:20px; color:white; border-radius: 50%; text-align: center; font-size:12px; line-height: 20px; }
    }
  }

  // COMPONENT BOX
  &.component-box   { position:relative;
    .white-box      { background: none; position:relative; }
    .animation      { position:absolute; top:-17px; left:-29px;  }
    .id             { margin-left:30px;
      .name         { font-size:20px; }
      .service-name { font-size:17px; font-weight:$medium; }
    }
    .id, .stats     { z-index:2; }
    .corner-box     { position:absolute; left:-15px;}
    .service-bug    { position:absolute; top:30px; left:11px; @include transition(opacity, 0.3s); opacity:1;
      > *           { position:absolute; }
      .bg-hex       { background:url('/assets/sprite.png'); width:65px; height:75px; top:-48px; left:-44px; }
      svg           { top:-41px; left:-35px; }
    }
  }

  // Sub Content
  .sub                        { @include transition(all, 0.4s, cubic-bezier(1.000, 0.000, 0.000, 1.000));
    &.no-transition           { transition: none; }
    &.has-content             { margin:20px 0 55px; }
    .sub-content              { position:relative; opacity:0; @include transition(opacity, 0.4s, cubic-bezier(1.000, 0.000, 0.000, 1.000));
      .arrow-pointer          { z-index: 2; position:absolute; top:1px;
        &:after               { bottom: 100%; left: 50%;	border: solid transparent;	content: "";	height: 0;	width: 0;	position: absolute;	pointer-events: none;	border-color: rgba(136, 183, 213, 0);	border-bottom-color: white;	border-width: 10px;	margin-left: -10px;}
        &.app-components      {
          &:after, &:before   { bottom: 100%; left: 50%; border: solid transparent; content: ""; height: 0; width: 0; position: absolute; pointer-events: none; }
          &:after             { border-color: rgba(0,0,0, 0); border-bottom-color: #E5E5E5; border-width: 9px; margin-left: -9px; }
          &:before            { border-color: rgba(0,0,0, 0); border-bottom-color: #f5f5f5; border-width: 11px; margin-left: -11px; }
        }
        &.scale-machine:after { border-bottom-color: #029ADB; }
        &.console:after       { border-bottom-color: #202D36; }
      }
      &.platform-components   { display:flex; justify-content: space-between; width:600px; flex-wrap: wrap; padding-bottom:10px;
        .has-content          { margin-bottom: -10px; }
      }
      &.app-components        { position:relative; padding-top:30px;
        &:before              { z-index: -1; position:absolute; height:calc(100% - 35px); background:#E5E5E5; border:solid white 1px; content:""; width:597px; display:block; top:-0px;}
        &:last-child          {
          .sub.has-content    { padding-bottom: 29px; }
        }
      }
    }
  }

}
