!function t(e,a,n){function r(i,u){if(!a[i]){if(!e[i]){var o="function"==typeof require&&require;if(!u&&o)return o(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[i]={exports:{}};e[i][0].call(d.exports,function(t){var a=e[i][1][t];return r(a?a:t)},d,d.exports,t,e,a,n)}return a[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,a){var n;e.exports=n=function(){function t(t){var e,a,n,r;n=this,this.$node=t[0],r=150,this.width=r,this.height=r,a=r/2,e=r/2.75,this.pieFn=d3.layout.pie().startAngle(0).endAngle(Math.PI).padAngle(.025).sort(null).value(function(t){return t.value}),this.arcFn=d3.svg.arc().innerRadius(e).outerRadius(a),this.svg=d3.select(this.$node).append("svg:svg").attr({"class":"gauges",height:this.height/2,transform:"translate(0, "+this.height/2+")"})}return t.prototype.update=function(t){var e,a;return a=this,e=this.svg.selectAll("g.gauge").data(t).enter().append("svg:g").style("opacity",0).transition().duration(500).delay(250).style("opacity",1).each(function(t,e){var n;return n=d3.select(this),n.attr({"class":"gauge "+t.metric,transform:"translate("+a.width*e+", 0)"}),n.append("svg:text").text(t.metric).attr({"class":"label",x:a.width/2,y:a.height/2-10,"text-anchor":"middle"}),n.selectAll("path").data(a.pieFn(t.data)).enter().append("path").attr({"class":function(t){return t.data.type+" "+t.data.name},d:a.arcFn,transform:"translate("+a.width/2+", "+a.height/2+") rotate(-90)"}).each(function(t){return this._curAngle=t})}),this.svg.selectAll("g.gauge").data(t).each(function(t){return d3.select(this).selectAll("path").data(a.pieFn(t.data)).transition().duration(500).attrTween("d",function(t){var e;return e=d3.interpolate(this._curAngle,t),this._curAngle=e(0),function(t){return a.arcFn(e(t))}})})},t}()},{}],2:[function(t,e,a){var n,r,s,i=function(t,e){return function(){return t.apply(e,arguments)}};s=t("jade/component"),n=t("gauges"),r=function(){function t(t,e){this.id=e,this.update=i(this.update,this),this.$node=$(s()),t.append(this.$node),this.build()}return t.prototype.build=function(){return this.$gauges=$(".gauges",this.$node),this.$table=$("table.services",this.$node),this._subscribeToUsageBreakdownData(this.id)},t.prototype.update=function(t){return $("svg",this.$gauges).length?this._updateGauges(t):this._buildGauges(t),$("tbody.stats",this.$table).children().length?this._updateTable(t):this._buildTable(t)},t.prototype._buildGauges=function(t){return this.gauges=new n(this.$gauges,{data:this._getDataByMetrics(t)})},t.prototype._buildTable=function(t){var e,a,n,r,s,i,u,o,c,d,l,h,p;for(l=this._getDataByMetrics(t),r=0,i=l.length;i>r;r++)c=l[r],$("thead tr",this.$table).append($("<th class='label'>"+c.metric+"</td>"));for(t.push({type:"internal",name:"unused",metrics:this._calculateUnused(t)}),p=[],n=s=0,u=t.length;u>s;n=++s){for(a=t[n],e=$("<tr class='"+a.name+"'> <td class='icon'>icon</td> <td class='stat name'>"+a.name+"</td> </tr>"),h=this._getDataByMetrics(t),d=0,o=h.length;o>d;d++)c=h[d],e.append($("<td class='stat metric "+c.metric+"'>"+100*c.data[n].value+"%</td>"));p.push($("tbody",this.$table).append(e))}return p},t.prototype._updateGauges=function(t){return this.gauges.update(this._getDataByMetrics(t))},t.prototype._updateTable=function(t){var e,a,n,r,s,i;for(t.push({type:"internal",name:"unused",metrics:this._calculateUnused(t)}),i=[],a=n=0,r=t.length;r>n;a=++n)e=t[a],i.push(function(){var n,r,i,u;for(i=this._getDataByMetrics(t),u=[],n=0,r=i.length;r>n;n++)s=i[n],u.push($("."+e.name+" ."+s.metric,this.$node).html((100*s.data[a].value).toPrecision(2)+"%"));return u}.call(this));return i},t.prototype._subscribeToUsageBreakdownData=function(t){return PubSub.publish("STATS.SUBSCRIBE.USAGE_BREAKDOWN",{statProviderId:t,callback:this.update})},t.prototype._getDataByMetrics=function(t){var e,a,n,r,s,i,u,o;for(s={},a=0,r=t.length;r>a;a++){e=t[a],i=e.metrics;for(n in i)o=i[n],s[n]||(s[n]=[]),s[n].push({type:e.type,name:e.name,value:o})}u=this._calculateUnused(t);for(n in u)o=u[n],s[n].push({type:"internal",name:"unused",value:o});return Object.keys(s).map(function(t){return{metric:t,data:s[t]}})},t.prototype._calculateUnused=function(t){var e,a,n,r,s,i,u,o;for(i={},u={},a=0,r=t.length;r>a;a++){e=t[a],s=e.metrics;for(n in s)o=s[n],i[n]||(i[n]=0),i[n]+=o}for(n in i)o=i[n],u[n]=1-o;return u},t}(),window.nanobox||(window.nanobox={}),nanobox.UsageBreakdown=r},{gauges:1,"jade/component":3}],3:[function(t,e,a){e.exports=function(t){var e=[];return e.push('<div class="nanobox-dash-ui-usage-breakdown"><div class="component"><h4 class="title">Resouce Usage Breakdown</h4><div class="gauges"></div><table class="services"><thead class="labels"><tr><td colspan="2"></td></tr></thead><tbody class="stats"></tbody></table></div></div>'),e.join("")}},{}]},{},[2]);